<launch>

<!-- SET UP VISION AND AR TRACKING (USE local OR zumy) -->
<arg name="vision" default="zumy" />
<arg name="device" default="/dev/video1" />
<arg name="mname" default="odroid1" />

<include file="$(find coop_pcl)/launch/($arg vision)_ar_track.launch">
  <arg name="device" value="$(arg device)" />
  <arg name="mname" value="$(arg mname)" />
</include>

<!-- TRACK AR TAG BUNDLES RELATIVE TO MASTER TAG ON TOP OF ROBOT -->
<include file="$(find coop_pcl)/launch/track_roach.launch" />

<!-- GENERATE POINT CLOUD FROM AR TAGS -->
<!-- NOTE: if pcd_file is NULL, then pcd file will not be saved. Put full path to pcd file if you want to save it. -->
<arg name="pcd_file" default="NULL"/>			
<arg name="cloud_width" default="15000" /> 
<arg name="resolution" default="0.005" /> 
<node name="pt_cloud" pkg="coop_pcl" type="cloud_goal_pub" output="screen" args="$(arg pcd_file) $(arg resolution) $(arg cloud_width)" />

<!-- CONTROL VELOCIROACH (USE manual OR random OR position) -->
<arg name="roach_controller" default="manual" />
<arg name="robot_name" default="robot0" />

<include file="$(find coop_pcl)/launch/$(arg roach_controller)_roach_controller.launch">
  <arg name="robot_name" value="$(arg robot_name)" />
</include>

<!-- RUN RVIZ -->
<node name="rviz" pkg="rviz" type="rviz" args="-d $(find coop_pcl)/rviz/rviz_config.rviz"/>

</launch>
